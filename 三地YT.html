<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿè¯æ¨¡å¼ï¼šé™†å°æ¸¯ä¸‰åœ°å¯¹æ¯” ğŸ®</title>
    <style>
        :root {
            --pinyin-color: #ff4757;
            --main-bg: #f5f6fa;
            --card-bg: #ffffff;
            --accent: #2f3542;
            --watermark-color: rgba(47, 53, 66, 0.1);
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: var(--main-bg);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        #app { 
            width: 95%; 
            max-width: 900px; 
            text-align: center; 
            z-index: 1; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* é¡¶éƒ¨åŒºåŸŸæ§åˆ¶ */
        .header-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin-bottom: 15px;
        }

        .watermark {
            font-size: 1.8rem;
            font-weight: 900;
            letter-spacing: 5px;
            color: var(--watermark-color);
            text-transform: uppercase;
            margin-bottom: 10px;
            user-select: none;
        }

        .list-btn {
            padding: 8px 20px;
            background: var(--accent);
            color: white;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 15px; /* æŒ‰é’®ä¸åˆ†ç±»ä¹‹é—´çš„é—´è· */
            transition: transform 0.2s;
        }
        .list-btn:active { transform: scale(0.95); }

        .card {
            background: var(--card-bg);
            border-radius: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.12);
            padding: 35px 40px;
            width: 100%;
            min-height: 480px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            cursor: pointer;
            position: relative;
            transition: opacity 0.3s ease-in-out;
            box-sizing: border-box;
        }

        .card.fade-out { opacity: 0; pointer-events: none; }

        .progress { position: absolute; top: 25px; right: 30px; font-size: 0.9rem; color: #a4b0be; font-weight: bold; }

        .category {
            font-size: 0.85rem;
            color: #747d8c;
            background: #f1f2f6;
            padding: 4px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 8px;
        }

        .english-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--accent);
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .word-container { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; width: 100%; }

        .term-box {
            opacity: 0;
            transform: translateY(15px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 20px 10px;
            border-radius: 20px;
        }

        .term-box.active { opacity: 1; transform: translateY(0); }
        .ml-box { background: #fffcf9; }
        .tw-box { background: #f9fcff; }
        .hk-box { background: #fcf9ff; }

        /* å­—ä½“å­—å½¢æ¸²æŸ“ */
        .tw-box ruby, [lang="zh-TW"] ruby { font-family: "Microsoft JhengHei", "PingFang TC", sans-serif; }
        .hk-box ruby, [lang="zh-HK"] ruby { font-family: "PingFang HK", "MingLiU_HKSCS", sans-serif; }

        ruby { font-size: 1.6rem; font-weight: bold; color: var(--accent); }
        rt { color: var(--pinyin-color); font-size: 0.85rem; font-weight: bold; }

        .emoji { font-size: 3rem; margin: 12px 0; }
        .label { font-size: 0.75rem; color: #747d8c; font-weight: bold; }

        .hint-bar { margin-top: 25px; color: #1e90ff; font-weight: bold; font-size: 1.1rem; height: 24px; }

        /* åˆ—è¡¨æ¨¡å¼ */
        #listOverlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            z-index: 2000;
            display: none;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
            margin-bottom: 15px;
        }

        .list-table { width: 100%; border-collapse: collapse; }
        .list-table th { background: #f8f9fa; padding: 12px; font-size: 0.85rem; color: #666; position: sticky; top: 0; }
        .list-table td { padding: 12px; border-bottom: 1px solid #f1f1f1; vertical-align: middle; }
        
        .clickable-term {
            cursor: pointer;
            display: inline-block;
            padding: 8px;
            border-radius: 10px;
            transition: background 0.2s;
        }
        .clickable-term:active { background: #e8f4ff; }

        .list-ruby { font-weight: bold; font-size: 1.1rem; pointer-events: none; }
        .list-ruby rt { color: var(--pinyin-color); font-size: 0.75rem; }
    </style>
</head>
<body>

<div id="app">
    <div class="header-section">
        <div class="watermark">XUSFUNCHINESE</div>
        <button class="list-btn" onclick="toggleList(true)">ğŸ“‹ æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ (40ç»„)</button>
    </div>

    <div class="card" id="mainCard">
        <div class="progress" id="progressText">1 / 40</div>
        
        <div class="content-header">
            <div class="category" id="catText">CATEGORY</div>
            <div class="english-title" id="enText">ENGLISH</div>
        </div>
        
        <div class="word-container">
            <div class="term-box ml-box" id="mlBox" lang="zh-CN">
                <ruby id="mlWord">è¯æ±‡<rt id="mlPinyin">pinyin</rt></ruby>
                <div class="emoji" id="mlEmoji">ğŸ‡¨ğŸ‡³</div>
                <div class="label">ğŸ‡¨ğŸ‡³ å¤§é™†</div>
            </div>
            <div class="term-box tw-box" id="twBox" lang="zh-TW">
                <ruby id="twWord">è¯æ±‡<rt id="twPinyin">pinyin</rt></ruby>
                <div class="emoji" id="twEmoji">ğŸ‡¹ğŸ‡¼</div>
                <div class="label">ğŸ‡¹ğŸ‡¼ å°æ¹¾</div>
            </div>
            <div class="term-box hk-box" id="hkBox" lang="zh-HK">
                <ruby id="hkWord">è¯æ±‡<rt id="hkPinyin">pinyin</rt></ruby>
                <div class="emoji" id="hkEmoji">ğŸ‡­ğŸ‡°</div>
                <div class="label">ğŸ‡­ğŸ‡° é¦™æ¸¯</div>
            </div>
        </div>
        <div class="hint-bar" id="hintText">ç‚¹å‡»å¼€å§‹</div>
    </div>
</div>

<div id="listOverlay">
    <div class="list-header">
        <h3 style="margin:0">å¯¹æ¯”è¡¨ (ç‚¹å‡»æ±‰å­—å‘éŸ³)</h3>
        <button class="list-btn" onclick="toggleList(false)" style="margin:0">è¿”å›å¡ç‰‡</button>
    </div>
    <table class="list-table">
        <thead>
            <tr>
                <th width="22%">è‹±æ–‡</th>
                <th width="26%">å¤§é™† ğŸ‡¨ğŸ‡³</th>
                <th width="26%">å°æ¹¾ ğŸ‡¹ğŸ‡¼</th>
                <th width="26%">é¦™æ¸¯ ğŸ‡­ğŸ‡°</th>
            </tr>
        </thead>
        <tbody id="listBody"></tbody>
    </table>
</div>

<script>
    const wordData = [
        { en: "Potato", cat: "é£Ÿç‰©", ml: ["åœŸè±†", "tÇ” dÃ²u", "ğŸ¥”"], tw: ["é¦¬éˆ´è–¯", "mÇ lÃ­ng shÇ”", "ğŸ¥”"], hk: ["è–¯ä»”", "syu4 zai2", "ğŸ¥”"] },
        { en: "Peanut", cat: "é£Ÿç‰©", ml: ["èŠ±ç”Ÿ", "huÄ shÄ“ng", "ğŸ¥œ"], tw: ["åœŸè±†", "tÇ” dÃ²u", "ğŸ¥œ"], hk: ["èŠ±ç”Ÿ", "faa1 sang1", "ğŸ¥œ"] },
        { en: "Strawberry", cat: "é£Ÿç‰©", ml: ["è‰è“", "cÇo mÃ©i", "ğŸ“"], tw: ["è‰è“", "cÇo mÃ©i", "ğŸ“"], hk: ["å£«å¤šå•¤æ¢¨", "si6 do1 be1 lei2", "ğŸ“"] },
        { en: "Popsicle", cat: "é£Ÿç‰©", ml: ["å†°æ£", "bÄ«ng gÃ¹n", "ğŸ¦"], tw: ["å†°æ£’", "bÄ«ng bÃ ng", "ğŸ¦"], hk: ["é›ªæ¡", "syut3 tiu2", "ğŸ¦"] },
        { en: "Instant Noodles", cat: "é£Ÿç‰©", ml: ["æ–¹ä¾¿é¢", "fÄng biÃ n miÃ n", "ğŸœ"], tw: ["æ³¡éºµ", "pÃ o miÃ n", "ğŸœ"], hk: ["å…¬ä»”é¢", "gung1 zai2 min6", "ğŸœ"] },
        { en: "Tuna", cat: "é£Ÿç‰©", ml: ["é‡‘æªé±¼", "jÄ«n qiÄng yÃº", "ğŸŸ"], tw: ["é®ªé­š", "wÄ›i yÃº", "ğŸŸ"], hk: ["åæ‹¿é±¼", "tan1 naa4 jyu2", "ğŸŸ"] },
        { en: "Pineapple", cat: "é£Ÿç‰©", ml: ["è è", "bÅ luÃ³", "ğŸ"], tw: ["é³³æ¢¨", "fÃ¨ng lÃ­", "ğŸ"], hk: ["è è", "bo1 lo4", "ğŸ"] },
        { en: "Tomato", cat: "é£Ÿç‰©", ml: ["è¥¿çº¢æŸ¿", "xÄ« hÃ³ng shÃ¬", "ğŸ…"], tw: ["ç•ªèŒ„", "fÄn qiÃ©", "ğŸ…"], hk: ["ç•ªèŒ„", "faan1 ke2", "ğŸ…"] },
        { en: "Salmon", cat: "é£Ÿç‰©", ml: ["ä¸‰æ–‡é±¼", "sÄn wÃ©n yÃº", "ğŸ£"], tw: ["é®­é­š", "guÄ« yÃº", "ğŸ£"], hk: ["ä¸‰æ–‡é±¼", "saam1 man4 jyu2", "ğŸ£"] },
        { en: "Cheese", cat: "é£Ÿç‰©", ml: ["å¥¶é…ª", "nÇi lÃ o", "ğŸ§€"], tw: ["èµ·å¸", "qÇ sÄ«", "ğŸ§€"], hk: ["èŠå£«", "zi1 si6", "ğŸ§€"] },
        { en: "Sandwich", cat: "é£Ÿç‰©", ml: ["ä¸‰æ˜æ²»", "sÄn mÃ­ng zhÃ¬", "ğŸ¥ª"], tw: ["ä¸‰æ˜æ²»", "sÄn mÃ­ng zhÃ¬", "ğŸ¥ª"], hk: ["ä¸‰æ–‡æ²»", "saam1 man4 zi6", "ğŸ¥ª"] },
        { en: "In Love", cat: "ç”Ÿæ´»", ml: ["è°ˆæ‹çˆ±", "tÃ¡n liÃ n Ã i", "ğŸ’‘"], tw: ["è«‡æˆ€æ„›", "tÃ¡n liÃ n Ã i", "ğŸ’‘"], hk: ["æ‹æ‹–", "paak3 to1", "ğŸ‘©â€â¤ï¸â€ğŸ‘¨"] },
        { en: "Sneakers", cat: "ç”Ÿæ´»", ml: ["çƒé‹", "qiÃº xiÃ©", "ğŸ‘Ÿ"], tw: ["çƒé‹", "qiÃº xiÃ©", "ğŸ‘Ÿ"], hk: ["æ³¢é‹", "bo1 haai4", "ğŸ‘Ÿ"] },
        { en: "Quality", cat: "ç”Ÿæ´»", ml: ["è´¨é‡", "zhÃ¬ liÃ ng", "âš–ï¸"], tw: ["å“è³ª", "pÇn zhÃ­", "âš–ï¸"], hk: ["è´¨ç´ ", "zat1 sou3", "âš–ï¸"] },
        { en: "Trash Can", cat: "ç”Ÿæ´»", ml: ["åƒåœ¾æ¡¶", "lÄ jÄ« tÇ’ng", "ğŸ—‘ï¸"], tw: ["åƒåœ¾æ¡¶", "lÃ¨ sÃ¨ tÇ’ng", "ğŸ—‘ï¸"], hk: ["åƒåœ¾æ¡¶", "laap6 saap3 tung2", "ğŸ—‘ï¸"] },
        { en: "Straw", cat: "ç”Ÿæ´»", ml: ["å¸ç®¡", "xÄ« guÇn", "ğŸ¥¤"], tw: ["å¸ç®¡", "xÄ« guÇn", "ğŸ¥¤"], hk: ["é¥®ç®¡", "jam2 gun2", "ğŸ¥¤"] },
        { en: "Restroom", cat: "ç”Ÿæ´»", ml: ["å«ç”Ÿé—´", "wÃ¨i shÄ“ng jiÄn", "ğŸš½"], tw: ["åŒ–å¦å®¤", "huÃ  zhuÄng shÃ¬", "ğŸš½"], hk: ["æ´—æ‰‹é—´", "sai2 sau2 gaan1", "ğŸš½"] },
        { en: "SMS Message", cat: "ç”Ÿæ´»", ml: ["çŸ­ä¿¡æ¯", "duÇn xÃ¬n xÄ«", "ğŸ“±"], tw: ["ç°¡è¨Š", "jiÇn xÃ¹n", "ğŸ“±"], hk: ["çŸ­è®¯", "dyun2 seon3", "ğŸ“±"] },
        { en: "Video", cat: "ç”Ÿæ´»", ml: ["è§†é¢‘", "shÃ¬ pÃ­n", "ğŸ¬"], tw: ["å½±ç‰‡", "yÇng piÃ n", "ğŸ¬"], hk: ["çŸ­ç‰‡", "dyun2 pin2", "ğŸ¬"] },
        { en: "Ballpoint Pen", cat: "ç”Ÿæ´»", ml: ["åœ†ç ç¬”", "yuÃ¡n zhÅ« bÇ", "ğŸ–Šï¸"], tw: ["åŸå­ç­†", "yuÃ¡n zÇ bÇ", "ğŸ–Šï¸"], hk: ["åŸå­ç¬”", "jyun4 zi2 bat1", "ğŸ–Šï¸"] },
        { en: "Shampoo", cat: "ç”Ÿæ´»", ml: ["æ´—å‘æ°´", "xÇ fÃ  shuÇ", "ğŸ§´"], tw: ["æ´—é«®ç²¾", "xÇ fÃ  jÄ«ng", "ğŸ§´"], hk: ["æ´—å¤´æ°´", "sai2 tau4 seoi2", "ğŸ§´"] },
        { en: "Spoon", cat: "ç”Ÿæ´»", ml: ["å‹ºå­", "shÃ¡o zi", "ğŸ¥„"], tw: ["æ¹¯åŒ™", "tÄng chÃ­", "ğŸ¥„"], hk: ["åŒ™ç¾¹", "ci4 gang1", "ğŸ¥„"] },
        { en: "Good Morning", cat: "ç”Ÿæ´»", ml: ["æ—©ä¸Šå¥½", "zÇo shÃ ng hÇo", "â˜€ï¸"], tw: ["æ—©å®‰", "zÇo Än", "â˜€ï¸"], hk: ["æ—©æ™¨", "zou2 san4", "â˜€ï¸"] },
        { en: "Off Work", cat: "èŒåœº", ml: ["ä¸‹ç­", "xiÃ  bÄn", "ğŸ¢"], tw: ["ä¸‹ç­", "xiÃ  bÄn", "ğŸ¢"], hk: ["æ”¶å·¥", "sau1 gung1", "ğŸƒâ€â™‚ï¸"] },
        { en: "Overtime", cat: "èŒåœº", ml: ["åŠ ç­", "jiÄ bÄn", "ğŸŒ™"], tw: ["åŠ ç­", "jiÄ bÄn", "ğŸŒ™"], hk: ["OT", "O-T", "ğŸŒ‘"] },
        { en: "Boss", cat: "èŒåœº", ml: ["è€æ¿", "lÇo bÇn", "ğŸ‘”"], tw: ["è€é—†", "lÇo bÇn", "ğŸ‘”"], hk: ["è€ç»†", "lou5 sai3", "ğŸ•¶ï¸"] },
        { en: "Resume", cat: "èŒåœº", ml: ["ç®€å†", "jiÇn lÃ¬", "ğŸ“„"], tw: ["å±¥æ­·", "lÇš lÃ¬", "ğŸ“„"], hk: ["CV", "C-V", "ğŸ“„"] },
        { en: "Taxi", cat: "äº¤é€š", ml: ["å‡ºç§Ÿè½¦", "chÅ« zÅ« chÄ“", "ğŸš•"], tw: ["è¨ˆç¨‹è»Š", "jÃ¬ chÃ©ng chÄ“", "ğŸš•"], hk: ["çš„å£«", "dik1 si2", "ğŸš•"] },
        { en: "Bicycle", cat: "äº¤é€š", ml: ["è‡ªè¡Œè½¦", "zÃ¬ xÃ­ng chÄ“", "ğŸš²"], tw: ["è…³è¸è»Š", "jiÇo tÃ  chÄ“", "ğŸš²"], hk: ["å•è½¦", "daan1 ce1", "ğŸš²"] },
        { en: "Subway", cat: "äº¤é€š", ml: ["åœ°é“", "dÃ¬ tiÄ›", "ğŸš‡"], tw: ["æ·é‹", "jiÃ© yÃ¹n", "ğŸš‡"], hk: ["åœ°é“", "dei6 tit3", "ğŸš‡"] },
        { en: "Bus", cat: "äº¤é€š", ml: ["å…¬äº¤è½¦", "gÅng jiÄo chÄ“", "ğŸšŒ"], tw: ["å…¬è»Š", "gÅng chÄ“", "ğŸšŒ"], hk: ["å·´å£«", "baa1 si2", "ğŸšŒ"] },
        { en: "Power Bank", cat: "ç§‘æŠ€", ml: ["å……ç”µå®", "chÅng diÃ n bÇo", "ğŸ”‹"], tw: ["è¡Œå‹•é›»æº", "xÃ­ng dÃ²ng", "ğŸ”‹"], hk: ["å°¿è¢‹", "niu6 doi2", "ğŸ”‹"] },
        { en: "Drone", cat: "ç§‘æŠ€", ml: ["æ— äººæœº", "wÃº rÃ©n jÄ«", "ğŸš"], tw: ["ç©ºæ‹æ©Ÿ", "kÅng pÄi jÄ«", "ğŸš"], hk: ["èˆªæ‹æœº", "hong4 paak3 gei1", "ğŸš"] },
        { en: "Hard Drive", cat: "ç§‘æŠ€", ml: ["ç¡¬ç›˜", "yÃ¬ng pÃ¡n", "ğŸ’¾"], tw: ["ç¡¬ç¢Ÿ", "yÃ¬ng diÃ©", "ğŸ’¾"], hk: ["æœºç›˜", "gei1 pun4", "ğŸ’¾"] },
        { en: "Air Conditioner", cat: "ç§‘æŠ€", ml: ["ç©ºè°ƒ", "kÅng tiÃ¡o", "â„ï¸"], tw: ["å†·æ°£", "lÄ›ng qÃ¬", "â„ï¸"], hk: ["å†·æ°”", "laang5 hei3", "â„ï¸"] },
        { en: "Laptop", cat: "ç§‘æŠ€", ml: ["ç¬”è®°æœ¬", "bÇ jÃ¬ bÄ›n", "ğŸ’»"], tw: ["ç­†é›»", "bÇ diÃ n", "ğŸ’»"], hk: ["æ‰‹æç”µè„‘", "sau2 tai4 din6 nou5", "ğŸ’»"] },
        { en: "Software", cat: "ç§‘æŠ€", ml: ["è½¯ä»¶", "ruÇn jiÃ n", "ğŸ’¿"], tw: ["è»Ÿé«”", "ruÇn tÇ", "ğŸ’¿"], hk: ["è½¯ä»¶", "jun5 gin2", "ğŸ’¿"] },
        { en: "Mobile Phone", cat: "ç§‘æŠ€", ml: ["æ‰‹æœº", "shÇ’u jÄ«", "ğŸ“±"], tw: ["æ‰‹æ©Ÿ", "shÇ’u jÄ«", "ğŸ“±"], hk: ["æ‰‹æœº", "sau2 gei1", "ğŸ“±"] },
        { en: "Skip Class", cat: "å­¦ä¹ ", ml: ["é€ƒè¯¾", "tÃ¡o kÃ¨", "ğŸƒ"], tw: ["ç¿¹èª²", "qiÃ o kÃ¨", "ğŸƒ"], hk: ["èµ°å ‚", "zau2 tong4", "ğŸ«"] },
        { en: "Thoughtful", cat: "æƒ…æ„Ÿ", ml: ["è´´å¿ƒ", "tiÄ“ xÄ«n", "â¤ï¸"], tw: ["çª©å¿ƒ", "wÅ xÄ«n", "â¤ï¸"], hk: ["æš–å¿ƒ", "nyun5 sam1", "ğŸ¥°"] }
    ];

    let currentIndex = 0;
    let step = 0;
    const mainCard = document.getElementById('mainCard');
    let voices = [];

    function initVoices() {
        voices = window.speechSynthesis.getVoices();
    }
    initVoices();
    if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = initVoices;
    }

    function speak(text, lang) {
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        if (voices.length === 0) voices = window.speechSynthesis.getVoices();
        
        let target = null;
        if (lang === 'zh-HK') target = voices.find(v => v.lang.includes('HK') || v.lang.includes('yue'));
        else if (lang === 'zh-TW') target = voices.find(v => v.lang.includes('TW') || v.name.includes('Taiwan'));
        else target = voices.find(v => v.lang.includes('CN') || v.name.includes('Mainland'));

        if (target) utterance.voice = target;
        utterance.lang = lang;
        utterance.rate = 0.9;
        window.speechSynthesis.speak(utterance);
    }

    function updateCardData() {
        const data = wordData[currentIndex];
        document.getElementById('progressText').innerText = `${currentIndex + 1} / ${wordData.length}`;
        document.getElementById('catText').innerText = data.cat;
        document.getElementById('enText').innerText = data.en;
        document.getElementById('mlWord').innerHTML = `${data.ml[0]}<rt>${data.ml[1]}</rt>`;
        document.getElementById('mlEmoji').innerText = data.ml[2];
        document.getElementById('twWord').innerHTML = `${data.tw[0]}<rt>${data.tw[1]}</rt>`;
        document.getElementById('twEmoji').innerText = data.tw[2];
        document.getElementById('hkWord').innerHTML = `${data.hk[0]}<rt>${data.hk[1]}</rt>`;
        document.getElementById('hkEmoji').innerText = data.hk[2];
        document.getElementById('hintText').innerText = "ç‚¹å‡»æ˜¾ç¤ºå¤§é™†";
        document.getElementById('hintText').style.color = "#1e90ff";
    }

    mainCard.onclick = () => {
        const data = wordData[currentIndex];
        if (step === 0) {
            document.getElementById('mlBox').classList.add('active');
            speak(data.ml[0], 'zh-CN');
            document.getElementById('hintText').innerText = "ç‚¹å‡»è§£é”å°æ¹¾";
            step = 1;
        } else if (step === 1) {
            document.getElementById('twBox').classList.add('active');
            speak(data.tw[0], 'zh-TW');
            document.getElementById('hintText').innerText = "ç‚¹å‡»è§£é”é¦™æ¸¯";
            step = 2;
        } else if (step === 2) {
            document.getElementById('hkBox').classList.add('active');
            speak(data.hk[0], 'zh-HK');
            document.getElementById('hintText').innerText = "ä¸‹ä¸€ç»„";
            document.getElementById('hintText').style.color = "#2ed573";
            step = 3;
        } else {
            mainCard.classList.add('fade-out');
            setTimeout(() => {
                document.getElementById('mlBox').classList.remove('active');
                document.getElementById('twBox').classList.remove('active');
                document.getElementById('hkBox').classList.remove('active');
                currentIndex = (currentIndex + 1) % wordData.length;
                updateCardData();
                step = 0;
                mainCard.classList.remove('fade-out');
            }, 300);
        }
    };

    function toggleList(show) {
        const overlay = document.getElementById('listOverlay');
        overlay.style.display = show ? 'flex' : 'none';
        if (show && document.getElementById('listBody').innerHTML === "") {
            renderList();
        }
    }

    function renderList() {
        const body = document.getElementById('listBody');
        body.innerHTML = wordData.map((d) => `
            <tr>
                <td><small>${d.cat}</small><br><strong>${d.en}</strong></td>
                <td>
                    <div class="clickable-term" onclick="speak('${d.ml[0]}', 'zh-CN')">
                        <ruby class="list-ruby">${d.ml[0]}<rt>${d.ml[1]}</rt></ruby> ${d.ml[2]}
                    </div>
                </td>
                <td lang="zh-TW">
                    <div class="clickable-term" onclick="speak('${d.tw[0]}', 'zh-TW')">
                        <ruby class="list-ruby">${d.tw[0]}<rt>${d.tw[1]}</rt></ruby> ${d.tw[2]}
                    </div>
                </td>
                <td lang="zh-HK">
                    <div class="clickable-term" onclick="speak('${d.hk[0]}', 'zh-HK')">
                        <ruby class="list-ruby">${d.hk[0]}<rt>${d.hk[1]}</rt></ruby> ${d.hk[2]}
                    </div>
                </td>
            </tr>
        `).join('');
    }

    updateCardData();
</script>
</body>
</html>